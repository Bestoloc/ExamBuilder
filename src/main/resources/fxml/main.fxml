<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.effect.*?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.2-ea"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.examsystem.controllers.MainController"
            style="-fx-background-color: linear-gradient(to bottom right, #0f172a, #1e293b);">

    <top>
        <VBox spacing="0">
            <!-- –®–∞–ø–∫–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º -->
            <StackPane style="-fx-background-color: linear-gradient(to right, #1e40af, #3b82f6);
                             -fx-effect: dropshadow(gaussian, #00000033, 15, 0, 0, 3);">
                <HBox style="-fx-padding: 20 30;" alignment="CENTER_LEFT" spacing="20">
                    <!-- –õ–æ–≥–æ—Ç–∏–ø –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ -->
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <StackPane>
                            <Circle radius="22" fill="white" opacity="0.2"/>
                            <Text text="üìö" style="-fx-font-size: 20;"/>
                        </StackPane>
                        <VBox spacing="2">
                            <Text fill="white" style="-fx-font-size: 20; -fx-font-weight: bold;">
                                ExamPro System
                            </Text>
                            <Text fill="#cbd5e0" style="-fx-font-size: 12;">
                                –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
                            </Text>
                        </VBox>
                    </HBox>

                    <Region HBox.hgrow="ALWAYS"/>

                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                    <HBox alignment="CENTER_RIGHT" spacing="15">
                        <VBox spacing="2" alignment="CENTER_RIGHT">

                                <Label fx:id="welcomeLabel" text="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"
                                       textFill="white" style="-fx-font-weight: bold;"/>

                            <Text fill="#cbd5e0" style="-fx-font-size: 11;">
                                –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤
                            </Text>
                        </VBox>
                        <Button text="–í—ã–π—Ç–∏" fx:id="btnExit"
                                style="-fx-background-color: #ef4444; -fx-text-fill: white;
                                      -fx-font-weight: bold; -fx-background-radius: 8;
                                      -fx-padding: 8 20; -fx-cursor: hand;"
                                onAction="#handleLogout">
                            <effect>
                                <DropShadow radius="3" offsetX="1" offsetY="1" color="#00000033"/>
                            </effect>
                        </Button>
                    </HBox>
                </HBox>
            </StackPane>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <HBox style="-fx-background-color: #1e293b; -fx-padding: 15 30;
                        -fx-border-color: #334155; -fx-border-width: 0 0 1 0;"
                  spacing="20" alignment="CENTER_LEFT">

                <Button style="-fx-background-color: #10b981; -fx-text-fill: white;
                              -fx-font-weight: bold; -fx-background-radius: 8;
                              -fx-padding: 12 25; -fx-cursor: hand;"
                        onAction="#handleCreateTicket">
                    <graphic>
                        <HBox spacing="8" alignment="CENTER">
                            <Text fill="white" style="-fx-font-size: 18;">üìù</Text>
                            <Text fill="white" style="-fx-font-weight: bold;">
                                –°–æ–∑–¥–∞—Ç—å –±–∏–ª–µ—Ç
                            </Text>
                        </HBox>
                    </graphic>
                    <effect>
                        <DropShadow radius="4" offsetX="2" offsetY="2" color="#10b9814d"/>
                    </effect>
                </Button>

                <Button style="-fx-background-color: #3b82f6; -fx-text-fill: white;
                              -fx-font-weight: bold; -fx-background-radius: 8;
                              -fx-padding: 12 25; -fx-cursor: hand;"
                        onAction="#handleAddQuestion">
                    <graphic>
                        <HBox spacing="8" alignment="CENTER">
                            <Text fill="white" style="-fx-font-size: 18;">‚ûï</Text>
                            <Text fill="white" style="-fx-font-weight: bold;">
                                –î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
                            </Text>
                        </HBox>
                    </graphic>
                    <effect>
                        <DropShadow radius="4" offsetX="2" offsetY="2" color="#3b82f64d"/>
                    </effect>
                </Button>

                <Button style="-fx-background-color: #f59e0b; -fx-text-fill: white;
                              -fx-font-weight: bold; -fx-background-radius: 8;
                              -fx-padding: 12 25; -fx-cursor: hand;"
                        onAction="#handleAnalysis">
                    <graphic>
                        <HBox spacing="8" alignment="CENTER">
                            <Text fill="white" style="-fx-font-size: 18;">üìä</Text>
                            <Text fill="white" style="-fx-font-weight: bold;">
                                –ê–Ω–∞–ª–∏–∑
                            </Text>
                        </HBox>
                    </graphic>
                    <effect>
                        <DropShadow radius="4" offsetX="2" offsetY="2" color="#f59e0b4d"/>
                    </effect>
                </Button>
            </HBox>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true"
                    style="-fx-background: transparent; -fx-background-color: transparent; -fx-border-color: transparent;">
            <VBox alignment="CENTER" spacing="40" style="-fx-padding: 40;">
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <VBox spacing="20" alignment="CENTER">
                    <Text style="-fx-font-size: 28; -fx-font-weight: bold; -fx-fill: #f1f5f9;">
                        –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                    </Text>
                    <Text style="-fx-font-size: 14; -fx-fill: #94a3b8; -fx-text-alignment: center;">
                        –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∏—Å—Ç–µ–º—ã
                    </Text>

                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
                    <HBox spacing="30" alignment="CENTER">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ -->
                        <StackPane>
                            <Rectangle width="220" height="140" arcWidth="15" arcHeight="15"
                                       fill="#1e293b">
                                <effect>
                                    <DropShadow radius="15" color="#00000026" offsetX="0" offsetY="5"/>
                                </effect>
                            </Rectangle>
                            <VBox alignment="CENTER" spacing="15" style="-fx-padding: 25;">
                                <HBox spacing="12" alignment="CENTER">
                                    <StackPane>
                                        <Circle radius="20" fill="#3b82f6" opacity="0.2"/>
                                        <Text text="‚ùì" style="-fx-font-size: 18;"/>
                                    </StackPane>
                                    <VBox spacing="3">
                                            <Label fx:id="questionCountLabel" text="0" textFill="#3b82f6" style="-fx-font-size: 32; -fx-font-weight: bold; -fx-fill: #3b82f6;"/>
                                        <Text style="-fx-font-size: 13; -fx-fill: #94a3b8;">
                                            –≤–æ–ø—Ä–æ—Å–æ–≤
                                        </Text>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </StackPane>

                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –±–∏–ª–µ—Ç–æ–≤ -->
                        <StackPane>
                            <Rectangle width="220" height="140" arcWidth="15" arcHeight="15"
                                       fill="#1e293b">
                                <effect>
                                    <DropShadow radius="15" color="#00000026" offsetX="0" offsetY="5"/>
                                </effect>
                            </Rectangle>
                            <VBox alignment="CENTER" spacing="15" style="-fx-padding: 25;">
                                <HBox spacing="12" alignment="CENTER">
                                    <StackPane>
                                        <Circle radius="20" fill="#10b981" opacity="0.2"/>
                                        <Text text="üé´" style="-fx-font-size: 18;"/>
                                    </StackPane>
                                    <VBox spacing="3">
                                            <Label fx:id="ticketCountLabel" text="0" textFill="#10b981" style="-fx-font-size: 32; -fx-font-weight: bold; -fx-fill: #10b981;"/>
                                        <Text style="-fx-font-size: 13; -fx-fill: #94a3b8;">
                                            –±–∏–ª–µ—Ç–æ–≤
                                        </Text>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </StackPane>

                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ -->
                        <StackPane>
                            <Rectangle width="220" height="140" arcWidth="15" arcHeight="15"
                                       fill="#1e293b">
                                <effect>
                                    <DropShadow radius="15" color="#00000026" offsetX="0" offsetY="5"/>
                                </effect>
                            </Rectangle>
                            <VBox alignment="CENTER" spacing="15" style="-fx-padding: 25;">
                                <HBox spacing="12" alignment="CENTER">
                                    <StackPane>
                                        <Circle radius="20" fill="#f59e0b" opacity="0.2"/>
                                        <Text text="üë®‚Äçüéì" style="-fx-font-size: 18;"/>
                                    </StackPane>
                                    <VBox spacing="3">

                                            <Label fx:id="studentCountLabel" text="0" textFill="#f59e0b" style="-fx-font-size: 32; -fx-font-weight: bold; -fx-fill: #f59e0b;"/>

                                        <Text style="-fx-font-size: 13; -fx-fill: #94a3b8;">
                                            —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
                                        </Text>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </StackPane>
                    </HBox>
                </VBox>

                <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
                <VBox alignment="CENTER" spacing="20">
                    <StackPane>
                        <Circle radius="60" fill="#3b82f6" opacity="0.1"/>
                        <Text text="üìö" style="-fx-font-size: 48;"/>
                    </StackPane>

                    <VBox alignment="CENTER" spacing="10">
                        <Text style="-fx-font-size: 24; -fx-font-weight: bold; -fx-fill: #f1f5f9;">
                            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ExamPro!
                        </Text>
                        <Text style="-fx-font-size: 14; -fx-fill: #94a3b8; -fx-text-alignment: center;"
                              textAlignment="CENTER">
                            –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
                            —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –±–∏–ª–µ—Ç–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –≤—ã—à–µ
                            –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π.
                        </Text>
                    </VBox>
                </VBox>

                <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                <VBox spacing="20" alignment="CENTER">
                    <Text style="-fx-font-size: 18; -fx-font-weight: bold; -fx-fill: #f1f5f9;">
                        –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
                    </Text>
                    <HBox spacing="20" alignment="CENTER">
                        <Button style="-fx-background-color: #334155; -fx-text-fill: #e2e8f0;
                                      -fx-font-weight: bold; -fx-background-radius: 10;
                                      -fx-padding: 15 25; -fx-border-color: #475569;
                                      -fx-border-width: 1; -fx-border-radius: 10; -fx-cursor: hand;"
                                onAction="#handleCreateTicket">
                            <graphic>
                                <VBox spacing="5" alignment="CENTER">
                                    <Text style="-fx-font-size: 20; -fx-fill: #3b82f6;">üìù</Text>
                                    <Text style="-fx-font-size: 12; -fx-fill: #e2e8f0;">
                                        –ù–æ–≤—ã–π –±–∏–ª–µ—Ç
                                    </Text>
                                </VBox>
                            </graphic>
                        </Button>

                        <Button style="-fx-background-color: #334155; -fx-text-fill: #e2e8f0;
                                      -fx-font-weight: bold; -fx-background-radius: 10;
                                      -fx-padding: 15 25; -fx-border-color: #475569;
                                      -fx-border-width: 1; -fx-border-radius: 10; -fx-cursor: hand;"
                                onAction="#handleAddQuestion">
                            <graphic>
                                <VBox spacing="5" alignment="CENTER">
                                    <Text style="-fx-font-size: 20; -fx-fill: #10b981;">‚ûï</Text>
                                    <Text style="-fx-font-size: 12; -fx-fill: #e2e8f0;">
                                        –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
                                    </Text>
                                </VBox>
                            </graphic>
                        </Button>

                        <Button style="-fx-background-color: #334155; -fx-text-fill: #e2e8f0;
                                      -fx-font-weight: bold; -fx-background-radius: 10;
                                      -fx-padding: 15 25; -fx-border-color: #475569;
                                      -fx-border-width: 1; -fx-border-radius: 10; -fx-cursor: hand;"
                                onAction="#handleAnalysis">
                            <graphic>
                                <VBox spacing="5" alignment="CENTER">
                                    <Text style="-fx-font-size: 20; -fx-fill: #f59e0b;">üìä</Text>
                                    <Text style="-fx-font-size: 12; -fx-fill: #e2e8f0;">
                                        –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                                    </Text>
                                </VBox>
                            </graphic>
                        </Button>
                    </HBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>

    <bottom>
        <StackPane style="-fx-background-color: #0f172a; -fx-padding: 15;">
            <HBox alignment="CENTER" spacing="10">
                <Text style="-fx-font-size: 12; -fx-fill: #64748b;">
                    ¬© 2025 ExamPro System ‚Ä¢ –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è 1.0
                </Text>
                <Text style="-fx-font-size: 12; -fx-fill: #475569;">‚Ä¢</Text>
                <Text style="-fx-font-size: 12; -fx-fill: #64748b;">
                    –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤
                </Text>
            </HBox>
        </StackPane>
    </bottom>

</BorderPane>